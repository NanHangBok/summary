# DAY_93

## 목차
- [동기-비동기](#동기-vs-비동기)
- [스레드](#스레드)
- [스레드 기반 비동기 처리](#스레드-기반-비동기-처리)

---

## 동기 vs 비동기
- 동기 : 요청한 작업이 끝날 때 까지 다음 작업이 대기 / 순차적 코드 실행
- 비동기 : 요청한 작업의 완료 여부와 관계없이 다음 작업을 수행 / 병렬적으로 여러 작업 수행
#### 블로킹과 논블로킹
- 블로킹 : 호출한 함수가 작업을 끝낼 때까지 제어권을 반환하지 않음
- 논블로킹 : 호출 즉시 제어권을 반환하며, 완료 여부는 나중에 확인

#### 조합

| 구분           | 제어 흐름                              | 스레드 상태           |
|---------------|--------------------------------------|-------------------|
| 동기 + 블로킹    | 작업 완료까지 기다림                      | 제어권 반환 X        |
| 동기 + 논블로킹   | 결과를 반복 확인(Polling)                | 제어권 즉시 반환      |
| 비동기 + 블로킹   | 별도 스레드에서 실행하지만, 호출자는 결과 기다림 | Future.get()      |
| 비동기 + 논블로킹 | 별도 스레드에서 실행되고 결과는 콜백으로 전달    | CompletableFuture |

#### 성능 관점에서의 차이

| 비교 항목   | 동기 처리                 | 비동기 처리                        |
|----------|-------------------------|---------------------------------|
| CPU 활용률 | 낮음(대기 시간 발생)         | 높음(대기 시간 최소화)               |
| 응답 시간   | 느림                     | 빠름                             |
| 구현 난이도 | 쉬움                      | 상대적으로 복잡(콜백/스레드 관리 필요)   |
| 적합한 환경 | 단순 요청, 처리량이 적은 시스템 | 대규모 트래픽, 외부 API 호출, I/O 작업 |


## 스레드
- 프로세스 : 실행 중인 애플리케이션 / 데이터, 컴퓨터 자원, 그리고 스레드로 구성
- 스레드 : 하나의 코드 실행 흐름
- 스레드의 기본 개념
  - 프로그램 내에서 독립적으로 실행되는 흐름
  - 하나의 프로그램(프로세스) 안에서 여러 스레드가 동시에 작업을 수행할 수 있음
  - 각 스레드는 메모리를 고융하며, 병렬적으로 작업을 수행할 수 있음
 
#### 프로세스와 스레드

| 항목      | 프로세스                                | 스레드                        |
|----------|--------------------------------------|-----------------------------|
| 실행 단위   | 프로그램 전체 실행                        | 프로그램 내 일부 실행 흐름        |
| 메모리 공간 | 독립적 메모리 영역                        | 프로세스 내 메모리 공유           |
| 통신 방식   | IPC(Inter Process Comminication) 필요 | 메모리 공유로 빠름               |
| 생성 비용   | 높음(OS에서 자원 할당 필요)                | 낮음(프로세스 내 생성)           |
| 예시       | 크롬 브라우저                            | 탭별 실행, UI/네트워크 처리 스레드 |

#### JVM 스레드
- 메인 스레드
- GC 스레드
- Finalizer 스레드
- 사용자 정의 스레드
- 이러한 스레드들을 스레드 스케줄러를 통해 관리

#### 메인 스레드와 작업 스레드
- 메인 스레드
  - main 메서드 실행
- 작업 스레드
  - 하나의 프로세스는 여러 개의 스레드를 가질 수 있음 : 멀티 스레드 프로세스
  - 여러 개의 스레드를 가진다 : 여러 스레드가 동시에 작업을 수행할 수 있음 : 멀티 스레딩

#### 멀티 스레드
- 장점 :
  - CPU의 멀티코어를 효율적으로 활용 가능
  - 동시에 여러 작업을 수행할 수 있음
  - 사용자 경험 개선
- 단점 :
  - 경쟁 상태 발생
  - 데드락
  - 디버깅과 테스트가 어려워짐
 
## 스레드 기반 비동기 처리
- Thread 클래스 사용
- 메인 스레드와 작업 스레드가 동시에 실행 됨.
> 실무에서는 직접 스레드를 생성하지 않고, 스레드 풀을 사용

#### ExecutorService & 스레드 풀
- 스레드 풀
  - 미리 생성해둔 일정 수의 스레드를 재활용하는 구조
